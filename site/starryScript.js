import*as e from"three";import t from"three/addons/stats.module.js";let camera,scene,renderer,stats,materials,mouseX=0,mouseY=0,windowHalfX=$(document).width()/2,windowHalfY=$(document).height()/2;function init(){(camera=new e.PerspectiveCamera(55,$(document).width()/$(document).height(),2,2e3)).position.z=1e3,(scene=new e.Scene).fog=new e.FogExp2(0,75e-5);let n=[],o=[],i=[],r=new e.TextureLoader().load("./three/sprites/dot64.png");r.colorSpace=e.SRGBColorSpace;let a=[[0,1,.7],[.042,1,.7],[.083,1,.7],[.125,1,.7],[.167,1,.7],[.5,1,.7],[.61,1,.7],[0,1,.8],[.042,1,.8],[.083,1,.8],[.125,1,.8],[.167,1,.8],[.5,1,.8],[.61,1,.8],[0,1,1]];a.forEach(t=>{let a=new e.PointsMaterial({size:10,sizeAttenuation:!0,map:r,alphaTest:.5,transparent:!0});a.color.setHSL(t[0],t[1],t[2],e.SRGBColorSpace),i.push(a);let s=[];for(let d=0;d<50;d++){let m=2e3*Math.random()-1e3,l=2e3*Math.random()-1e3,p=2e3*Math.random()-1e3;s.push(m,l,p)}if(1==t[2])for(let c=0;c<250;c++){let _=2e3*Math.random()-1e3,h=2e3*Math.random()-1e3,w=2e3*Math.random()-1e3;s.push(_,h,w)}o.push(s),n.push(new e.BufferGeometry)});for(let s=0;s<a.length;s++){n[s].setAttribute("position",new e.Float32BufferAttribute(o[s],3));let d=new e.Points(n[s],i[s]);scene.add(d)}(renderer=new e.WebGLRenderer({antialias:!0,powerPreference:"high-performance"})).setPixelRatio(window.devicePixelRatio),renderer.setSize($(document).width(),$(document).height()),renderer.toneMapping=e.ACESFilmicToneMapping,document.body.appendChild(renderer.domElement),stats=new t,document.body.appendChild(stats.dom),document.body.addEventListener("pointermove",onPointerMove),window.addEventListener("resize",onWindowResize)}function onWindowResize(){windowHalfX=$(document).width()/2,windowHalfY=$(document).height()/2,camera.aspect=$(document).width()/$(document).height(),camera.updateProjectionMatrix(),renderer.setSize($(document).width(),$(document).height())}function onPointerMove(e){!1!==e.isPrimary&&(mouseX=e.clientX-windowHalfX,mouseY=e.clientY-windowHalfY)}function animate(){requestAnimationFrame(animate),render(),stats.update()}function render(){Date.now(),camera.position.x+=(mouseX-camera.position.x)*.1,camera.position.y+=(-mouseY-camera.position.y)*.1,camera.lookAt(scene.position),renderer.render(scene,camera)}init(),animate();